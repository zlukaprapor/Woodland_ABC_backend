Woodland_ABC_backend


# üìà Performance Profiling Report

## –ú–µ—Ç–∞

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –º—ñ—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –≤–µ–±–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É **"–õ—ñ—Å–æ–≤–∞ –∞–±–µ—Ç–∫–∞: –†—É–∫–∞–≤–∏—á–∫–∞"**, —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ –Ω–∞ FastAPI. –û—Å–Ω–æ–≤–Ω–∞ –º–µ—Ç–∞ ‚Äî –≤–∏—è–≤–∏—Ç–∏ –≤—É–∑—å–∫—ñ –º—ñ—Å—Ü—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ (bottlenecks) —Ç–∞ —Å—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó —â–æ–¥–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó.

---

## üîß –ú–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è:

- **CPU –ø—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è**: `cProfile`, `pyinstrument`
- **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º‚Äô—è—Ç—ñ**: `memory_profiler`
- **–ü—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è SQL-–∑–∞–ø–∏—Ç—ñ–≤**: SQLAlchemy events, `sqltap`
- **I/O / Web –∑–∞–ø–∏—Ç–∏**: `prometheus-fastapi-instrumentator`

### –¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:

1. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è 1000 —É—Ä–æ–∫—ñ–≤ –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.
2. –û–±—Ä–æ–±–∫–∞ 50 –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ `/api/v1/lessons/{id}`.
3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —É—Ä–æ–∫—É –∑ –º–µ–¥—ñ–∞—Ñ–∞–π–ª–∞–º–∏ (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è + –∞—É–¥—ñ–æ).
4. –õ–æ–≥—ñ–Ω 100 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º.

---

## üìä –ö–ª—é—á–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏

| –û–ø–µ—Ä–∞—Ü—ñ—è                                 | –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å | –ü—Ä–∏–º—ñ—Ç–∫–∏                           |
|------------------------------------------|--------------|------------------------------------|
| GET `/api/v1/lessons/{id}`               | 145‚Äì320 –º—Å   | –ü–æ–≤—ñ–ª—å–Ω–æ —á–µ—Ä–µ–∑ –≤–µ–ª–∏–∫–∏–π –æ–±—Å—è–≥ –¥–∞–Ω–∏—Ö |
| POST `/api/v1/lessons/` (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è)      | 420‚Äì780 –º—Å   | –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –º–µ–¥—ñ–∞—Ñ–∞–π–ª—ñ–≤           |
| POST `/api/v1/auth/login`                | 90‚Äì130 –º—Å    | –ü–æ–≤—ñ–ª—å–Ω–æ —á–µ—Ä–µ–∑ PBKDF2              |
| ORM-–∑–∞–ø–∏—Ç `get_lesson_by_id`             | 25‚Äì40 –º—Å     | –ú–æ–∂–Ω–∞ –ø–æ–∫—Ä–∞—â–∏—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—î—é        |
| –ó–∞–ø–∏—Å —Ñ–∞–π–ª—É (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è/–∞—É–¥—ñ–æ)           | 3‚Äì6 –º—Å        | –ù–æ—Ä–º–∞–ª—å–Ω–æ                          |
| –ó–∞–≥–∞–ª—å–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º‚Äô—è—Ç—ñ              | ~180 MB      | –ü—ñ–∫ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —É—Ä–æ–∫—É            |

---

## üî• –í–∏—è–≤–ª–µ–Ω—ñ ‚Äú–≥–∞—Ä—è—á—ñ —Ç–æ—á–∫–∏‚Äù

1. **`get_lesson_detail(id)`**
   - –î–æ 68% CPU –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º.
   - –û–±—Ä–æ–±–∫–∞ –≤–µ–ª–∏–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä —É—Ä–æ–∫—ñ–≤ + –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è + —Ç–µ–∫—Å—Ç + –∫–æ–Ω—Ç–µ–∫—Å—Ç.

2. **`create_lesson_with_upload()`**
   - –ó–∞—Ç—Ä–∏–º–∫–∏ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ –º–µ–¥—ñ–∞—Ñ–∞–π–ª—ñ–≤.
   - –í–∏—Å–æ–∫–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –¥–∏—Å–∫ I/O.

3. **`auth_service.verify_password()`**
   - –î–æ 30% CPU –ø—Ä–∏ –≤–µ–ª–∏–∫—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ª–æ–≥—ñ–Ω—ñ–≤.
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –æ–±—á–∏—Å–ª—é–≤–∞–ª—å–Ω–æ –¥–æ—Ä–æ–≥–∏–π PBKDF2-–∞–ª–≥–æ—Ä–∏—Ç–º.

---

## üß© –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –Ω–∞–ø—Ä—è–º–∫–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

- üîÅ **–ö–µ—à—É–≤–∞–Ω–Ω—è** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —á–∞—Å—Ç–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ `get_lesson_detail()`.
- üóÉÔ∏è **–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó** —Ç–∞–±–ª–∏—Ü—å —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö.
- üåê **–í–∏–Ω–µ—Å–µ–Ω–Ω—è –æ–±—Ä–æ–±–∫–∏ —Ñ–∞–π–ª—ñ–≤** —É —Ñ–æ–Ω–æ–≤—ñ –∑–∞–¥–∞—á—ñ (`Celery` –∞–±–æ `RQ`).
- üîí **–ê–¥–∞–ø—Ç–∞—Ü—ñ—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ PBKDF2** –∞–±–æ –∫–µ—à—É–≤–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤ –ª–æ–≥—ñ–Ω—É.

---

## üìÖ –î–∞—Ç–∞ –∞–Ω–∞–ª—ñ–∑—É: 16 –∫–≤—ñ—Ç–Ω—è 2025
## üîß –í–µ—Ä—Å—ñ—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É: v0.9.3

